{
  "info": {
    "name": "PDF Generator API",
    "description": "Collection for testing the PDF generation service",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "pdf_service_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "backend_url",
      "value": "http://localhost:4001",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Checks",
      "item": [
        {
          "name": "PDF Service Health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{pdf_service_url}}/health",
              "host": ["{{pdf_service_url}}"],
              "path": ["health"]
            }
          }
        },
        {
          "name": "Backend Health (PDF Integration)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{backend_url}}/api/pdf/health",
              "host": ["{{backend_url}}"],
              "path": ["api", "pdf", "health"]
            }
          }
        }
      ]
    },
    {
      "name": "PDF Generation",
      "item": [
        {
          "name": "Generate Question Paper (Direct)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"exam\": {\n    \"title\": \"Mathematics Final Exam\",\n    \"class_name\": \"Class 10\",\n    \"year\": 2024,\n    \"question_count\": 3\n  },\n  \"exam_set\": {\n    \"set_name\": \"Set A\",\n    \"questions\": [\n      {\n        \"qno\": 1,\n        \"question\": \"What is 5 + 3?\",\n        \"question_type\": \"mcq\",\n        \"marks\": 1,\n        \"options\": {\n          \"A\": \"6\",\n          \"B\": \"7\",\n          \"C\": \"8\",\n          \"D\": \"9\"\n        }\n      },\n      {\n        \"qno\": 2,\n        \"question\": \"What is 10 - 4?\",\n        \"question_type\": \"mcq\",\n        \"marks\": 1,\n        \"options\": {\n          \"A\": \"5\",\n          \"B\": \"6\",\n          \"C\": \"7\",\n          \"D\": \"8\"\n        }\n      },\n      {\n        \"qno\": 3,\n        \"question\": \"What is the capital of France?\",\n        \"question_type\": \"mcq\",\n        \"marks\": 2,\n        \"options\": {\n          \"A\": \"London\",\n          \"B\": \"Berlin\",\n          \"C\": \"Paris\",\n          \"D\": \"Madrid\"\n        }\n      }\n    ],\n    \"answer_key\": {\n      \"1\": \"C\",\n      \"2\": \"B\",\n      \"3\": \"C\"\n    },\n    \"total_marks\": 4,\n    \"duration_minutes\": 60\n  },\n  \"template_type\": \"default\"\n}"
            },
            "url": {
              "raw": "{{pdf_service_url}}/generate-question-paper",
              "host": ["{{pdf_service_url}}"],
              "path": ["generate-question-paper"]
            }
          }
        },
        {
          "name": "Generate Question Paper (Backend)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer YOUR_JWT_TOKEN_HERE",
                "description": "Replace with actual JWT token from login"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"templateType\": \"default\"\n}"
            },
            "url": {
              "raw": "{{backend_url}}/api/pdf/generate/1/1",
              "host": ["{{backend_url}}"],
              "path": ["api", "pdf", "generate", "1", "1"],
              "description": "Replace 1/1 with actual examId/setId"
            }
          }
        }
      ]
    },
    {
      "name": "Preview Generation",
      "item": [
        {
          "name": "Preview Question Paper (Direct)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"exam\": {\n    \"title\": \"Sample Science Exam\",\n    \"class_name\": \"Class 9\",\n    \"year\": 2024,\n    \"question_count\": 2\n  },\n  \"exam_set\": {\n    \"set_name\": \"Set B\",\n    \"questions\": [\n      {\n        \"qno\": 1,\n        \"question\": \"What is the chemical symbol for water?\",\n        \"question_type\": \"mcq\",\n        \"marks\": 1,\n        \"options\": {\n          \"A\": \"H2O\",\n          \"B\": \"CO2\",\n          \"C\": \"NaCl\",\n          \"D\": \"O2\"\n        }\n      },\n      {\n        \"qno\": 2,\n        \"question\": \"Which planet is closest to the Sun?\",\n        \"question_type\": \"mcq\",\n        \"marks\": 1,\n        \"options\": {\n          \"A\": \"Venus\",\n          \"B\": \"Mercury\",\n          \"C\": \"Earth\",\n          \"D\": \"Mars\"\n        }\n      }\n    ],\n    \"answer_key\": {\n      \"1\": \"A\",\n      \"2\": \"B\"\n    },\n    \"total_marks\": 2,\n    \"duration_minutes\": 45\n  },\n  \"template_type\": \"default\"\n}"
            },
            "url": {
              "raw": "{{pdf_service_url}}/preview-question-paper",
              "host": ["{{pdf_service_url}}"],
              "path": ["preview-question-paper"]
            }
          }
        },
        {
          "name": "Preview Question Paper (Backend)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer YOUR_JWT_TOKEN_HERE",
                "description": "Replace with actual JWT token from login"
              }
            ],
            "url": {
              "raw": "{{backend_url}}/api/pdf/preview/1/1",
              "host": ["{{backend_url}}"],
              "path": ["api", "pdf", "preview", "1", "1"],
              "description": "Replace 1/1 with actual examId/setId"
            }
          }
        }
      ]
    },
    {
      "name": "Service Information",
      "item": [
        {
          "name": "Get Available Templates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{pdf_service_url}}/templates",
              "host": ["{{pdf_service_url}}"],
              "path": ["templates"]
            }
          }
        },
        {
          "name": "Get Customization Options",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{pdf_service_url}}/customization-options",
              "host": ["{{pdf_service_url}}"],
              "path": ["customization-options"]
            }
          }
        }
      ]
    }
  ]
}
